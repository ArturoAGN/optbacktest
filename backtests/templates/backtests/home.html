{% extends "base.html" %}
{% load static %}

{% block content %}
<div class="panel">
  <div class="ttl">FILTRO: TICKER & RANGO</div>
  <div class="row">
    <label>Ticker</label><input id="ticker-input" type="text" value="{{ ticker }}">
    <label>Desde</label><input id="start-date" type="date" value="{{ start_date }}">
    <label>Hasta</label><input id="end-date" type="date" value="{{ end_date }}">
    <button id="btnQuery">Consultar</button>

    <div class="spacer"></div>

    <button id="btnStart">Inicio</button>
    <button id="btnBack">-10m</button>
    <button id="btnPlay">Play</button>
    <button id="btnPause" disabled>Pausa</button>
    <button id="btnFwd">+10m</button>
    <label>Velocidad</label><select id="speed"><option>1</option><option>2</option><option>4</option></select>
  </div>
</div>

<div class="grid">
  <div class="panel"><div class="ttl" id="ttl-10m">{{ ticker }} · 10 MINUTOS</div><div id="chart_10m"></div></div>
  <div class="panel"><div class="ttl" id="ttl-30m">{{ ticker }} · 30 MINUTOS (LIVE)</div><div id="chart_30m"></div></div>
  <div class="panel"><div class="ttl" id="ttl-1d">{{ ticker }} · 1 DÍA (LIVE)</div><div id="chart_1d"></div></div>
  <div class="panel"><div class="ttl">OPCIÓN · 10 MINUTOS</div><div id="chart_opt"></div></div>
</div>

<script id="bt-context" type="application/json">{{ bt_context_json|safe }}</script>
<script src="https://cdn.plot.ly/plotly-2.27.0.min.js"></script>
<script src="{% static 'backtests/js/optcharts.js' %}"></script>
<script src="{% static 'backtests/js/backtest.js' %}"></script>
{% endblock %}
